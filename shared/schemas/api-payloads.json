{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "http://example.com/api-payloads.json",
    "title": "ApiPayloads",
    "type": "object",
    "properties": {
        "healthStatus": {
            "$ref": "#/definitions/HealthStatus"
        },
        "activityPayload": {
            "$ref": "#/definitions/ActivityPayload"
        },
        "statePayload": {
            "$ref": "#/definitions/StatePayload"
        },
        "auditEventPayload": {
            "$ref": "#/definitions/AuditEventPayload"
        },
        "screenshotPayload": {
            "$ref": "#/definitions/ScreenshotPayload"
        }
    },
    "definitions": {
        "HealthStatus": {
            "type": "object",
            "properties": {
                "uptime": {
                    "type": "number"
                },
                "message": {
                    "type": "string"
                }
            },
            "required": [
                "uptime"
            ]
        },
        "ActivityPayload": {
            "type": "object",
            "properties": {
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "activeWindow": {
                    "type": "string"
                },
                "processName": {
                    "type": "string"
                },
                "duration": {
                    "type": "number"
                },
                "username": {
                    "type": "string"
                }
            },
            "required": [
                "timestamp",
                "activeWindow",
                "processName"
            ]
        },
        "StatePayload": {
            "type": "object",
            "properties": {
                "lastActivityTime": {
                    "type": "string",
                    "format": "date-time"
                },
                "activeWindow": {
                    "type": "string"
                },
                "screenshotCount": {
                    "type": "integer"
                },
                "uploadCount": {
                    "type": "integer"
                },
                "health": {
                    "$ref": "#/definitions/HealthStatus"
                },
                "version": {
                    "type": "string"
                }
            },
            "required": [
                "lastActivityTime",
                "activeWindow",
                "screenshotCount",
                "uploadCount",
                "health"
            ]
        },
        "AuditEventPayload": {
            "type": "object",
            "properties": {
                "eventId": {
                    "type": "string"
                },
                "eventType": {
                    "type": "string"
                },
                "username": {
                    "type": "string"
                },
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "details": {
                    "type": "string"
                },
                "sourceLogName": {
                    "type": "string"
                },
                "isFlagged": {
                    "type": "boolean"
                }
            },
            "required": [
                "eventId",
                "eventType",
                "username",
                "timestamp",
                "details",
                "sourceLogName",
                "isFlagged"
            ]
        },
        "ScreenshotPayload": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "captureTime": {
                    "type": "string",
                    "format": "date-time"
                },
                "triggerType": {
                    "type": "string"
                },
                "googleDriveFileId": {
                    "type": "string"
                },
                "isUploaded": {
                    "type": "boolean"
                }
            },
            "required": [
                "id",
                "captureTime",
                "triggerType",
                "isUploaded"
            ]
        }
    }
}